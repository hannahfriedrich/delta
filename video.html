<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ecotourism in the Okavango Delta</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="The major cities in Oregon"/>
    <meta property="og:url" content="http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.3/video.html"/>
    <meta property="og:description" content="This is an example of a storymap."/>
    <meta property="og:image" content="img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">
    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="assets/favicon/delta.ico" type="image/x-icon">
    <!--facebook and info icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!--Font-->
    <link href="https://fonts.googleapis.com/css?family=Berkshire+Swash" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="dist/storymap.2.3.css">
    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="dist/storymap.2.3.js"></script>

    <!--icon_sheets-->
    <link rel="stylesheet" href="path/to/material-design-iconic-font/css/material-design-iconic-font.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/delta.mp4">
                <div class="fullscreen text-center">
                    <h1>The Okavango Delta: A Natural and Controlled System </h1>
                    <h1>
                        <small style="color: rgba(255,255,255,0.95)"> This story map explains the different agents that affect the shape and future well being of the Okavango Delta in West Central Africa.
                        </small>
                    </h1>
                </div>
            </section>
            <section data-scene="about">
                <h2>A Natural and Controlled System</h2>
                <p>With it’s headwaters in the rainy and forested highlands of Angola, the delta snakes is way southeast
                    through the Caprivi Strip of Namibia and into Botswana. The Cuito and Cubango Rivers in the highlands
                    of Angola are together what form the Okavango River which feeds into the detla. These upstream rivers
                    deliver about 2.5 trillion gallons of water each year. The heaviest rains in the Angolan highlands occur
                    in April - October. Because of the seasonality of the precipitation, the delta swells to life when the
                    upstream flood waters arrive and shrinks when the dry season approaches. The permanent wetland area is
                    about 1,200 sq miles and the seasonal wetland is about 3,000 sq miles. The Okavango Delta provides
                    habitat for a rich array of wildlife, as well as supporting the nearly one million people that live
                    within the basin area. </p>
                <img src="img/aerial.jpg" class="img-responsive" alt="responsive image"
                     alt-text="view from lodge">
            </section>

            <section data-scene="reserve">
                <h2>Parks and Reserves</h2>
                <p>Corvallis is a city in central western Oregon, United States. It is the county seat of Benton County
                    and the principal city of the Corvallis, Oregon Metropolitan Statistical Area, which encompasses all
                    of Benton County. As of the 2010 United States Census, the population was 54,462. Its population was
                    estimated by the Portland Research Center to be 55,298 in 2013.Corvallis is the location of Oregon
                    State University, a large Hewlett-Packard research campus, and Good Samaritan Regional Medical
                    Center.</p>
            </section>

            <section data-scene="biodiversity">
                <h2>Biodiversity</h2>
                <p>Eugene is a city of the Pacific Northwest located in the U.S. state of Oregon. It is located at the
                    southern end of the Willamette Valley, near the confluence of the McKenzie and Willamette Rivers,
                    about 50 miles (80 km) east of the Oregon Coast.</p>
                <img src="img/elephant.jpg" class="img-responsive" alt="responsive image"
                     alt-text="view from lodge">
            </section>

            <section data-scene="future">
                <h2>Future Threats: Ecotourism</h2>
                <p>Oregon was inhabited by many indigenous tribes before Western traders, explorers, and settlers
                    arrived. An autonomous government was formed in the Oregon Country in 1843 before the Oregon
                    Territory was created in 1848. Oregon became the 33rd state on February 14, 1859. Today, at 98,000
                    square miles (255,000 km²), Oregon is the ninth largest and, with a population of 4 million, 27th
                    most populous U.S. state. The capital of Oregon is Salem, the second most populous of its cities,
                    with 164,549 residents. Portland is Oregon's most populous city, with 632,309 residents, and ranks
                    as the 26th most populous city in the United States. Portland's metro population of 2,389,228 ranks
                    the 23rd largest metro in the nation. The Willamette Valley in western Oregon is the state's most
                    densely populated area, home to eight of the ten most populous cities.</p>
                <img src="img/lodge.jpg" class="img-responsive" alt="responsive image"
                     alt-text="view from lodge">
            </section>

            <section data-scene="end" data-background="assets/end.jpg">
                <div class="fullscreen text-center">
                    <br/>
                    <h1 class="">Thank you for following along!</h1>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.3/video.html"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-git-square btn" href="https://github.com/hannahfriedrich/delta" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fa fa-file-text-o btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of an overview of the geo-physical system of the Okavango Delta and the
                        human influences on the sustained well being of the delta. The story map library is derived from the
                        storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality
                        relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.1 | MIT License </p>
                    <p><b>Author: Hannah Friedrich</b> | College of Earth, Ocean, Atmospheric Science | Oregon State University
                    </p>
                    <p>The context about the Okavango Delta was collected from National Geographic.</p>
                    <p>The <a href="https://www.youtube.com/watch?v=RjKaUJbC7c4">background video</a> on the front page
                        was clipped from Youtube. </p>
                    <p>The favicon image was acquired from <a>https://commons.wikimedia.org/wiki/File:Icon_river_delta.svg</a></p>
                    <p>This story map uses geospatial data from Mapbox and the Namibia Environmental Information Service.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">

    // Create Legend Contents in html format
    var catchment_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Okavango Delta Basin</b></p>';
    var reserve_legend = '<i style="background: darkred; opacity: 0.5"></i><p><b>Reserves</b></p>';
    var future_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Lodges</b></p>';
    var biodiversity_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Elephant Habitat</b></p>';

    var layers = {
        catchment: {
            layer: L.geoJson.ajax('assets/catchment.geojson', {
                color: 'blue',
                weight: 2,
                opacity: 0.3
            }),
            layer: L.geoJson.ajax('assets/perm_delta.geojson', {
                color: 'green',
                weight: 2,
                opacity: 0.3
            }), layer: L.geoJson.ajax('assets/seasonal_delta.geojson', {
                color: 'dark green',
                weight: 2,
                opacity: 0.3
            }), legend: catchment_legend
        },
        reserve: {
            layer: L.geoJson.ajax('assets/gameparksreserve.geojson', {
                color: 'red',
                weight: 2,
                opacity: 0.7
            }), legend: reserve_legend

        },
        biodiversity: {
            layer: L.geoJson.ajax('assets/elephant.geojson', {
                color: 'grey',
                weight: 2,
                opacity: 0.8
            }),
            layer: L.geoJson.ajax('assets/giraffe.geojson', {
                color: 'orange',
                weight: 2,
                opacity: 0.8
            }),legend: biodiversity_legend
        },
        future: {
            layer: L.geoJson.ajax('assets/accomodation.geojson', {
                color: 'red',
                weight: 2,
                opacity: 0.3
            }), legend: future_legend
        },
        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw',{
                id: 'mapbox.satellite'})
    }};


    var scenes = {
        overview: {lat: 5.5000000, lng: 14.5000000, zoom: 6, name: 'Overview'},
        about: {lat: -15.0000000, lng: 13.5000000, zoom: 6, name: 'About', layers: ['catchment']},
        reserve: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Parks and Reserves', layers: ['reserve']},
        biodiversity: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Biodiversity', layers: ['biodiversity']},
        future: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Future Threats: Ecotourism', layers: ['lodge']},
        end: {lat: -18.0000000, lng: 22.5000000, zoom: 7, name: 'The End'}
    };

    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.satellite,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: true,
        scalebar: false,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {zoomControl: false, scrollWheelZoom: false}).setView([-19, 22], 7);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'green',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>