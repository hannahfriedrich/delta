<!DOCTYPE html>
<html lang="en">
<head>
    <title>The Dynamic Okavango Delta</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="The major cities in Oregon"/>
    <meta property="og:url" content="http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.3/video.html"/>
    <meta property="og:description" content="This is an example of a storymap."/>
    <meta property="og:image" content="img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">
    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="assets/favicon/delta.ico" type="image/x-icon">
    <!--facebook and info icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!--Font-->
    <link href="https://fonts.googleapis.com/css?family=Berkshire+Swash" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="dist/storymap.2.3.css">

    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="dist/storymap.2.3.js"></script>


</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/delta.mp4">
                <div class="fullscreen text-right">
                    <h1>The Okavango Delta</h1>
                    <h4>A Natural and Controlled System</h4>
                    <h3>
                        <small style="color: rgba(255,255,255,0.95)"> Created by Hannah Friedrich <br> Inspired by Bo Zhao and the National Geographic Okavango Expedition.
                        </small>
                    </h3>
                </div>
            </section>
            <section data-scene="about">
                <h2>A Complex Hydrologic System</h2>
                <p>WWith it’s headwaters in the rainy and forested highlands of Angola, the Okavango River snakes its way southeast
                    through the Caprivi Strip of Namibia and into Botswana. The Cuito and Cubango Rivers in the highlands of Angola
                    are together what form the Okavango River and subsequently the Okavango Delta. The heaviest rains in the Angolan
                    highlands occur in April - October. Because of the seasonality of the precipitation, the delta swells to life
                    when the upstream flood waters arrive and shrinks when the dry season approaches. The permanent wetland area is
                    about 1,200 sq miles and the seasonal wetland is about 3,000 sq miles. The water quality and quantity of the
                    upstream rivers, which deliver about 2.5 trillion gallons of water each year, are essential for a sustained,
                    biodiverse ecology that results in the delta. The Okavango Delta provides habitat for a rich array of wildlife,
                    as well as supporting the approximately 600,000 people that live within the Okavango Basin catchment.
                </p>
                <img src="img/aerial.jpg" class="img-responsive" alt="responsive image"
                     alt-text="aerial">
            </section>


            <section data-scene="biodiversity">
                <h2>Biodiversity</h2>
                <p>Among the large array of species living in the Okavango Delta are hippos, giraffes, elephants, crocodiles,
                    wild dogs, warthogs, buffalo, lions, and zebras, migratory water birds, amphibians and reptiles. Elephants
                    also transform the landscape by creating paths which become channels for water to flow. This dynamism is
                    one of the many elements in which the physical system of the Okavango Delta and the biodiversity it
                    supports and is supported by go hand in hand. Despite the private and public park reserves that are
                    active in protecting this rich array of species, illegal poaching activities do occur and threatens
                    species, whose habitat is already threatened with increasing water stress due to climatic variability
                    and hydrologic infrastructure projects.</p>
                <img src="img/elephant.jpg" class="img-responsive" alt="responsive image"
                     alt-text="elephant">
            </section>

            <section data-scene="reserve">
                <h2>Parks and Reserves</h2>
                <p>There are several parks and reserves, hundreds of acres in size, which provide areas set aside for habitat and
                    conservation efforts. These parks draw a large amount of ecotourists as they provide safari and a “conservation
                    experience”, which allows ecotourists to witness the array of species that inhabit the Okavango Delta. While
                    these parks reserves generate awareness of extreme ecological significance of the delta and rich array of species
                    as well generating monetary funds to sustain these efforts, the question arises of what the benefits of the
                    ecotourism are in terms of supporting these conservation efforts as well the potential detriment of having such
                    a burgeoning tourism industry in this fragile ecosystem. </p>
                <img src="img/hippo.jpg" class="img-responsive" alt="responsive image"
                     alt-text="hippo">
            </section>

            <section data-scene="future">
                <h2>Future Threats: Ecotourism</h2>
                <p>With the upstream floodwater coming from Angola, pressure for Botswana and Namibia, as receivers of the
                    upstream water, to maintain positive, working relationships with Angloa is critical. Additionally, with
                    increasing established and proposed irrigation scheme projects, hydroelectric dams, pollution, and human
                    demand and use of the water resources within the delta basin, the ecotourism industry brings in millions
                    of dollar every year. As shown in this map scene and the snapshot below, there is an abundance of high-end
                    lodges, as the industry calls them, or accommodations that house the thousands of tourists every year.
                    While the ecotourism industry brings capital in to help support the parks and reserves, it also presents
                    threats to sustainable water resources as well as habitat for endangered species. </p>
                <img src="img/lodge.jpg" class="img-responsive" alt="responsive image"
                     alt-text="view from lodge">
            </section>

            <section data-scene="end" data-background="assets/end.jpg">
                <div class="fullscreen text-center">
                    <br/>
                    <h6 class="">Thank you for following along!</h6>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.3/video.html"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-git-square btn" href="https://github.com/hannahfriedrich/delta" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fa fa-file-text-o btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of an overview of the geo-physical system of the Okavango Delta and the
                        human influences on the sustained well being of the delta. The story map library is derived from the
                        storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality
                        relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.1 | MIT License </p>
                    <p><b>Author: Hannah Friedrich</b> | College of Earth, Ocean, Atmospheric Science | Oregon State University
                    </p>
                    <p>The context about the Okavango Delta was collected from National Geographic.</p>
                    <p>The <a href="https://www.youtube.com/watch?v=RjKaUJbC7c4">background video</a> on the front page
                        was clipped from Youtube. </p>
                    <p>The favicon image was acquired from <a>https://commons.wikimedia.org/wiki/File:Icon_river_delta.svg</a></p>
                    <p>This story map uses geospatial data from Mapbox and the Namibia Environmental Information Service.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">

    // Create Legend Contents in html format
    var catchment_legend = '<i style="background: purple; opacity: 0.8"></i><p><b>Okavango Delta Basin</b></p>';
    var perm_legend = '<i style="background: darkcyan; opacity: 0.8"></i><p><b>Permanent Wetland</b></p>';
    var seasonal_legend = '<i style="background: red; opacity: 0.8"></i><p><b>Seasonal Wetland</b></p>';
    var reserve_legend = '<i style="background: darkred; opacity: 0.8"></i><p><b>Parks and Reserves</b></p>';
    var elephant_legend = '<i style="background: blue; opacity: 0.8"></i><p><b>Elephant Habitat</b></p>';
    var giraffe_legend = '<i style="background: orangered; opacity: 0.8"></i><p><b>Giraffe Habitat</b></p>';
    var lodge_legend = '<i class="glyphicon glyphicon-home lodge-style"></i><p><b>Lodges</b></p>';


    var layers = {
        catchment: {
            layer: L.geoJson.ajax('assets/catchment.geojson', {
                color: 'purple',
                weight: 2,
                opacity: 0.9
            }), legend: catchment_legend
        },
        perm_delta: {
            layer: L.geoJson.ajax('assets/perm_delta.geojson', {
                color: 'darkcyan',
                weight: 2,
                opacity: 0.9
            }), legend: perm_legend
        },
        seasonal_delta: {
            layer: L.geoJson.ajax('assets/seasonal_delta.geojson', {
                color: 'red',
                weight: 2,
                opacity: 0.9
            }), legend: seasonal_legend
        },
        reserve: {
            layer: L.geoJson.ajax('assets/gameparksreserve.geojson', {
                color: 'darkred',
                weight: 1.5,
                opacity: 0.9
            }), legend: reserve_legend

        },
        elephant: {
            layer: L.geoJson.ajax('assets/elephant.geojson', {
                color: 'blue',
                weight: 3,
                opacity: 0.3
            }),legend: elephant_legend
        },
        giraffe: {
            layer: L.geoJson.ajax('assets/giraffe.geojson', {
                color: 'orangered',
                weight: 3,
                opacity: 0.9
            }),legend: giraffe_legend
        },
        lodge: {
            layer: L.geoJson.ajax('assets/accomodation.geojson', {
                pointToLayer: function (feature, latlng) {
                    return L.marker(latlng, {icon: L.divIcon({className: 'glyphicon glyphicon-home lodge-style'})});
                }})
            ,legend: lodge_legend
        },
        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw',{
                id: 'mapbox.satellite'})
        }};


    var scenes = {
        overview: {lat: 5.5000000, lng: 14.5000000, zoom: 6, name: 'Overview'},
        about: {lat: -15.0000000, lng: 13.5000000, zoom: 6, name: 'About', layers: ['catchment','seasonal_delta', 'perm_delta']},
        reserve: {lat: -18.0000000, lng: 18.5000000, zoom: 6, name: 'Parks and Reserves', layers: ['reserve']},
        biodiversity: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Biodiversity', layers: ['elephant', 'giraffe']},
        future: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Future Threats: Ecotourism', layers: ['lodge']},
        end: {lat: -18.0000000, lng: 22.5000000, zoom: 7, name: 'The End'}
    };

    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.satellite,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: false,
        scalebar: false,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {zoomControl: false, scrollWheelZoom: false}).setView([-19, 22], 7);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'green',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>